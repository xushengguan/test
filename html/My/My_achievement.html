<!DOCTYPE html>
<html lang="en">
<head>
		<meta charset="UTF-8">
		<title>我的业绩</title>
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
		<meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
		<link rel="stylesheet" href="../../css/api.css">
		<link rel="stylesheet" href="../../css/common.css">
		<link rel="stylesheet" href="../../icon/iconfonts/iconfont.css">
		<link rel="stylesheet" href="../../css/7performance.css">
		<style media="screen">
		.progress {
			width: 100%;
			margin: 12px 0;
		}

		.progress .pro_txt {
			width: 292px;
			height: 16px;
			overflow: hidden;
			margin: 0 auto;
		}

		.progress .txt {
			font-size: 11px;
			color: #212121;
			margin-right: 32px;
			display: block;
			float: left;
		}

		.progress .txt:last-child {
			margin-right: 0;
		}

		.img_box {
			position: relative;
			width: 285px;
			height: 11px;
			margin: 0 auto;
		}

		.imgline {
			width: 100%;
			height: 11px;
			position: absolute;
			top: 0;
			left: 0;
			background: url(../../image/pro2.png) no-repeat;
		}

		.imgline.on {
			background: url(../../image/pro3.png) no-repeat;
			width: 23%;
			min-width: 4%;
			max-width: 100%;
		}

		.pro_title{
			height: 40px;
		}

		.prompt{
				padding-bottom: 20px;
		}

		.performance-top{
			 margin-bottom:0;
		}
		</style>
</head>
<body>
	<div class="performance" id="app">
		<header class="homePage-header" onclick="go_back()">
			<h4>我的业绩</h4>
			<i class="iconfont icon-fanhui icon-return"></i>
		</header>
		<div class="performance-con">
			<div class="performance-top">
				<!-- (level 1:铜牌 2:银牌 3:金牌 4:钻石 5:股东)/学员/教师/商家 -->
				<img src="../../image/gold03.png" alt="" class="img-gold02" v-if="level == '1'">
				<img src="../../image/gold04.png" alt="" class="img-gold02" v-else-if="level == '2'">
				<img src="../../image/gold05.png" alt="" class="img-gold02" v-else-if="level == '3'">
				<img src="../../image/gold06.png" alt="" class="img-gold02" v-else-if="level == '4'">
				<img src="../../image/gold07.png" alt="" class="img-gold02" v-else-if="level == '5'">
				<img src="../../image/gold02.png" alt="" class="img-gold02" v-else>
				<p>当前学分:{{winmoney}}分</p>
				<div class="progress">
					<div class="pro_txt">
						<span class="txt">会员</span>
						<span class="txt">铜牌</span>
						<span class="txt">银牌</span>
						<span class="txt">金牌</span>
						<span class="txt">钻石</span>
						<span class="txt">股东</span>
					</div>

					<div class="img_box">
						<div class="imgline"></div>
						<div class="imgline on"></div>
					</div>
				</div>
				<p class="prompt" v-if="level == '0'">还需{{1000 - winmoney}}学分升至铜牌</p>
				<p class="prompt" v-else-if="level == '1'">还需{{2000 - winmoney}}学分升至银牌</p>
				<p class="prompt" v-else-if="level == '2'">还需{{5000 - winmoney}}学分升至金牌</p>
				<p class="prompt" v-else-if="level == '3'">还需{{8000 - winmoney}}学分升至钻石</p>
				<p class="prompt" v-else-if="level == '4'">还需{{10000 - winmoney}}学分升至股东</p>
			</div>
			<div class="performance-bottom">
				<h6>业绩详单</h6>
				<div class="detils-con hide" onclick="go_detail(1)">
					<span class="fl products">产品销售</span>
					<i class="iconfont icon-gengduo1 icon-more fr"></i>
				</div>
				<div class="detils-con hide" onclick="go_detail(2)">
					<span class="fl products">粉丝业绩</span>
					<i class="iconfont icon-gengduo1 icon-more fr"></i>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
<script type="text/javascript" src="../../script/api.js"></script>
<script type="text/javascript" src="../../script/my.js"></script>
<script type="text/javascript" src="../../script/vue.js"></script>
<script type="text/javascript">
    var id;
		apiready = function(){
				id = $api.getStorage('id');
				vm.winmoney = api.pageParam.winmoney;
				vm.level = api.pageParam.level;
				var progressWidth = vm.winmoney / 10000;
				$api.css($api.dom('.imgline.on'), 'width:'+toPercent(progressWidth));
		}
		var vm = new Vue({
				el: '#app',
				data: {
						winmoney:'',
						level:''
				},
				methods: {

				}
		})
		//打开window
		function go_detail(index){
				api.openWin({
				    name: 'title',
				    url: './7startAct_title.html',
				    pageParam: {
				        id: id,
								index:index
				    }
				});

		}
</script>
